import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o,c,a as e,b as r,w as t,F as l,d as a,e as u,r as s}from"./app.2a6a1bd2.js";const p={},d=e("h1",{id:"v-note-de-invatare-a-limbilor-straine",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#v-note-de-invatare-a-limbilor-straine","aria-hidden":"true"},"#"),a(" V Note de \xEEnv\u0103\u021Bare a limbilor str\u0103ine")],-1),m=e("hr",null,null,-1),v=e("p",null,"Cuprins :",-1),f={class:"table-of-contents"},h=a("Introducere: vlang, limbajul viitorului"),g=a("Prefa\u021B\u0103"),b=a("v self Compila\u021Bi-l singur"),_=a("V Scrierea scenariilor"),x=a("Monitorizarea modific\u0103rilor de fi\u0219iere \u0219i repornirea automat\u0103 a execu\u021Biei"),k=u(`<hr><h2 id="introducere-vlang-limbajul-viitorului" tabindex="-1"><a class="header-anchor" href="#introducere-vlang-limbajul-viitorului" aria-hidden="true">#</a> Introducere: vlang, limbajul viitorului</h2><p>vlang, pentru front-end, back-end, big data, blockchain, inteligen\u021B\u0103 artificial\u0103, p\u0103trunde \xEEn fiecare aspect al societ\u0103\u021Bii. \xCEnvingerea altor limbaje de programare \u0219i unificarea lumii \xEEn 2050. A devenit chiar lingua franca a lumii, permi\u021B\xE2nd omenirii s\u0103 reconstruiasc\u0103 legendarul Turn Babel \u0219i s\u0103 avanseze \xEEn tehnologie cu pa\u0219i repezi ......</p><p>--- <a href="https://www.zhihu.com/question/318526180/answer/729421901" target="_blank" rel="noopener noreferrer">Citat din People&#39;s Daily 2050</a></p><h2 id="prefata" tabindex="-1"><a class="header-anchor" href="#prefata" aria-hidden="true">#</a> Prefa\u021B\u0103</h2><p><a href="https://vlang.io" target="_blank" rel="noopener noreferrer"><code>V\u8BED\u8A00</code></a> , Vlang, limbajul de programare pentru hackeri.</p><p>Rust \u0219i Zig sunt bune, dar sunt prea riguroase \u0219i academice.</p><p>V este mai degrab\u0103 un limbaj de \xEEnceput rapid, precum javascript, mai pu\u021Bin structurat, rapid de \xEEnceput \u0219i, bine\xEEn\u021Beles, rapid.</p><p>O mare parte din ceea ce se vehiculeaz\u0103 pe pagina de start a V nu a avut \xEEnc\u0103 efect (de exemplu, trecerea automat\u0103 de la C la V) \u0219i <a href="https://www.zhihu.com/question/318526180" target="_blank" rel="noopener noreferrer">a fost numit\u0103 propagand\u0103 fals\u0103 de mul\u021Bi</a>, de exemplu :</p><p>Este strategia corect\u0103 s\u0103 faci propagand\u0103 mai \xEEnt\xE2i \u0219i apoi s\u0103 o faci s\u0103 se \xEEnt\xE2mple; fiin\u021Bele umane sunt o comunitate a imagina\u021Biei.</p><blockquote><p>Cei mai mul\u021Bi oameni cred pentru c\u0103 v\u0103d, iar unii oameni v\u0103d pentru c\u0103 cred.</p></blockquote><p>La fel cum, credin\u021Ba \xEEn comunism poate fi minoritar\u0103, dar va exista \xEEntotdeauna un num\u0103r foarte mic de oameni care chiar cred, iar focul unei stele poate declan\u0219a un incendiu de preerie. F\u0103r\u0103 Partidul Comunist nu ar exista o nou\u0103 China.</p><p>Matematicienii ar putea g\u0103si V un pic frivol, dar cred c\u0103 hackerii vor adora acest limbaj.</p><p>A g\xE2ndi \xEEnseamn\u0103 a ac\u021Biona, a \xEEndr\u0103zni s\u0103 g\xE2nde\u0219ti, a \xEEndr\u0103zni s\u0103 \xEEncerci, \u0219i poate c\u0103 aceasta este diferen\u021Ba dintre art\u0103 \u0219i matematic\u0103. Este un limbaj de programare art\u0103 sau matematic\u0103? Aceasta este eterna \xEEntrebare.</p><p>Cred c\u0103 cel mai bun lucru despre V este faptul c\u0103 se estompeaz\u0103 grani\u021Bele dintre proiectarea limbajului \u0219i dezvoltarea de programe.</p><p>Se compileaz\u0103 singur, iar \xEEn trei sau cinci secunde poate fi recompilat, iar codul este clar.</p><p>Autorul lui V scrie \xEEn <a href="https://github.com/vlang/v/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">structura de directoare a codului V</a>:</p><blockquote><p>Am \xEEncercat s\u0103 fac compilatorul \u0219i codul vlib c\xE2t mai simplu \u0219i mai u\u0219or de citit posibil.</p><p>Unul dintre obiectivele V este de a fi deschis dezvoltatorilor cu diferite niveluri de experien\u021B\u0103 \xEEn dezvoltarea de compilatoare. Compilatorul nu trebuie s\u0103 fie o cutie neagr\u0103 plin\u0103 de magie pe care doar c\xE2\u021Biva oameni o pot \xEEn\u021Belege.</p><p>Compilatorul V este modular \u0219i poate fi utilizat de alte aplica\u021Bii. Acesta este situat la <code>cmd/v/</code> \u0219i <code>vlib/v/</code>.</p><p>Cea mai important\u0103 \u0219i util\u0103 comand\u0103 atunci c\xE2nd se lucreaz\u0103 cu compilatorul V este <code>v self</code>. Aceasta reconstruie\u0219te compilatorul V.</p><p>Structura compilatorului este foarte simpl\u0103 \u0219i are trei etape diferite.</p><p>Parsarea/generarea AST ( <code>v.parser</code>) =&gt; verificarea tipului ( <code>v.checker</code>) =&gt; generarea de cod C/JavaScript/ma\u0219in\u0103 ( <code>v.gen</code>)</p></blockquote><p>S-ar putea crede :</p><blockquote><p><a href="https://www.zhihu.com/question/318526180/answer/685952638" target="_blank" rel="noopener noreferrer">F\u0103r\u0103 a pune la socoteal\u0103 lexerul \u0219i parserul, codul de baz\u0103 are doar c\xE2teva mii de linii. Pot spune doar c\u0103 autorul a f\u0103cut o treab\u0103 bun\u0103 de marketing, iar site-ul oficial arat\u0103 cam a\u0219a.</a></p></blockquote><p>Dar cred c\u0103 aceast\u0103 simplitate este cel mai bun lucru la V.</p><p>Nu v\u0103 g\xE2ndi\u021Bi la V ca la un limbaj de programare tradi\u021Bional \u0219i greoi, cu un compilator care este o carte obscur\u0103, obscur\u0103 \xEEn cer.</p><p>G\xE2ndi\u021Bi-v\u0103 la el ca la un cadru de front-end web, precum Vue, \xEEn care bariera de intrare este redus\u0103 \u0219i \xEEn care toat\u0103 lumea se poate implica.</p><p>Dac\u0103 ave\u021Bi o problem\u0103, pur \u0219i simplu schimba\u021Bi-l.</p><blockquote><p>F\u0103-o singur \u0219i vei avea ce m\xE2nca.</p></blockquote><p>O lume nou\u0103 \u0219i frumoas\u0103 nu este ceva ce trebuie s\u0103 a\u0219tep\u021Bi, ci ceva ce oamenii care muncesc creeaz\u0103 cu m\xE2inile lor.</p><p><img src="//irmw.gumlet.io/cEFoDn.jpg" alt=""></p><h2 id="v-self-compilati-l-singur" tabindex="-1"><a class="header-anchor" href="#v-self-compilati-l-singur" aria-hidden="true">#</a> <code>v self</code> Compila\u021Bi-l singur</h2><p>V se poate compila singur cu u\u0219urin\u021B\u0103 folosind <code>v self</code>. Pe versiunea 2015 a laptopului meu Apple, dureaz\u0103 5,63 secunde pentru a compila o singur\u0103 dat\u0103.</p><p>V\u0103 recomand s\u0103 \xEEl instala\u021Bi ca \u0219i cod surs\u0103.</p><div class="language-text ext-text"><pre class="language-text"><code>git clone git@github.com:vlang/v.git
make
sudo ./v symlink
</code></pre></div><p>Dac\u0103 ave\u021Bi vreo idee, pute\u021Bi modifica direct codul surs\u0103 al compilatorului sau al bibliotecii standard.</p><p>Apoi, utiliza\u021Bi <code>v self</code>\u0219i compila\u021Bi-l singur. Dup\u0103 ce a\u021Bi stabilit cerin\u021Bele, confirma\u021Bi-le \u0219i unifica\u021Bi-le \xEEn codul surs\u0103 oficial.</p><p>Ast\u0103zi tocmai am aflat V \u0219i am lansat 3 cereri de fuziune <a href="https://github.com/vlang/v/pull/13518" target="_blank" rel="noopener noreferrer">(1</a>, <a href="https://github.com/vlang/v/pull/13524" target="_blank" rel="noopener noreferrer">2</a>, <a href="https://github.com/vlang/v/pull/13514" target="_blank" rel="noopener noreferrer">3</a> ) cu o sugestie de \xEEmbun\u0103t\u0103\u021Bire a limbajului: <a href="https://github.com/vlang/v/issues/13526" target="_blank" rel="noopener noreferrer">declararea explicit\u0103 op\u021Bional\u0103 a suportului pentru o interfa\u021B\u0103</a>.</p><p>Nu vorbesc bine engleza, dar cu ajutorul traduc\u0103torului de <a href="https://www.deepl.com/zh/translator" target="_blank" rel="noopener noreferrer">pe DeepL</a> este u\u0219or s\u0103 convertesc din chinez\u0103 \xEEn englez\u0103 pentru o comunicare aprofundat\u0103 cu prietenii interna\u021Bionali.</p><h2 id="v-scrierea-scenariilor" tabindex="-1"><a class="header-anchor" href="#v-scrierea-scenariilor" aria-hidden="true">#</a> V Scrierea scenariilor</h2><p><code>v init</code> Dup\u0103 ini\u021Bializarea proiectului, am nevoie de un script de compilare.</p><p>V poate fi folosit pentru a scrie acest script \xEEn loc de bash.</p><p>Scriptul meu de compilare este urm\u0103torul.</p><div class="language-vlang ext-vlang"><pre class="language-vlang"><code>#!/usr/bin/env -S v run

import v.vmod

fn sh(cmd string){
  println(&quot;\u276F $cmd&quot;)
  print(execute_or_exit(cmd).output)
}

vm := vmod.decode( @VMOD_FILE ) or { panic(err) }

name := vm.name

sh(&#39;v -autofree -prod \${name}.v&#39;)

suffix := $if windows { &#39;.exe&#39; } $else { &#39;&#39; }
src := name + suffix
bin := join_path_single(&#39;bin&#39;,src)
mkdir(&#39;bin&#39;) or {}
mv(src, bin)?

println(&#39;  &#39;+bin)
</code></pre></div><h2 id="monitorizarea-modificarilor-de-fisiere-si-repornirea-automata-a-executiei" tabindex="-1"><a class="header-anchor" href="#monitorizarea-modificarilor-de-fisiere-si-repornirea-automata-a-executiei" aria-hidden="true">#</a> Monitorizarea modific\u0103rilor de fi\u0219iere \u0219i repornirea automat\u0103 a execu\u021Biei</h2><p>Obi\u0219nuiesc s\u0103 scriu \u0219i s\u0103 execut un script o singur\u0103 dat\u0103, iar monitorizarea modific\u0103rilor \u0219i repornirea automat\u0103 a acestuia este ceea ce am nevoie.</p><p>v vine cu <code>v watch run xx.v</code> pentru a face acest lucru.</p><p>Am creat un script pentru a facilita utilizarea <code>./dev.sh</code> dup\u0103 cum urmeaz\u0103.</p><div class="language-bash ext-sh"><pre class="language-bash"><code>#!/usr/bin/env bash

DIR=$(dirname $(realpath &quot;$0&quot;))
cd $DIR
set -ex

NAME=$(cat v.mod|grep name|awk -F\\&#39; &#39;{print $2}&#39;)
SH=&quot;v watch run $NAME.v&quot;

exec $SH \\
  -i &#39;.git&#39; \\
  -i &#39;bin&#39; \\
  -c -s --before &quot;printf \\&quot;\\e[90m\u276F \${SH}\\e[0m\\n\\&quot;&quot;
</code></pre></div><p>Pentru \u0219ablonul de proiect, vezi <a href="https://github.com/rmw-link/rmw-v-template" target="_blank" rel="noopener noreferrer">rmw-link/rmw-v-template</a>.</p>`,46);function z(V,w){const i=s("RouterLink");return o(),c(l,null,[d,m,v,e("nav",f,[e("ul",null,[e("li",null,[r(i,{to:"#introducere-vlang-limbajul-viitorului"},{default:t(()=>[h]),_:1})]),e("li",null,[r(i,{to:"#prefata"},{default:t(()=>[g]),_:1})]),e("li",null,[r(i,{to:"#v-self-compilati-l-singur"},{default:t(()=>[b]),_:1})]),e("li",null,[r(i,{to:"#v-scrierea-scenariilor"},{default:t(()=>[_]),_:1})]),e("li",null,[r(i,{to:"#monitorizarea-modificarilor-de-fisiere-si-repornirea-automata-a-executiei"},{default:t(()=>[x]),_:1})])])]),k],64)}var C=n(p,[["render",z],["__file","2022-02-09.vlang.html.vue"]]);export{C as default};
