import{_ as o}from"./plugin-vue_export-helper.21dcd24c.js";import{o as i,c as s,a as e,b as t,w as a,F as l,d as r,e as d,r as g}from"./app.2a6a1bd2.js";const p={},m=e("h1",{id:"v-noter-til-sprogindl\xE6ring",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#v-noter-til-sprogindl\xE6ring","aria-hidden":"true"},"#"),r(" V Noter til sprogindl\xE6ring")],-1),k=e("hr",null,null,-1),f=e("p",null,"Indholdsfortegnelse :",-1),u={class:"table-of-contents"},v=r("Indledning: vlang, fremtidens sprog"),c=r("Forord"),h=r("v self Kompil\xE9r det selv"),b=r("V Skriftlige manuskripter"),_=r("Overv\xE5g fil\xE6ndringer og genstart automatisk k\xF8rslen"),w=d(`<hr><h2 id="indledning-vlang-fremtidens-sprog" tabindex="-1"><a class="header-anchor" href="#indledning-vlang-fremtidens-sprog" aria-hidden="true">#</a> Indledning: vlang, fremtidens sprog</h2><p>vlang, til front-end, back-end, big data, blockchain, kunstig intelligens, gennemsyrer alle aspekter af samfundet. At sl\xE5 andre programmeringssprog og forene verden i 2050. Det blev endda verdens lingua franca, hvilket gjorde det muligt for menneskeheden at genopbygge det legendariske Babelst\xE5rn og g\xF8re teknologiske fremskridt med stormskridt ......</p><p>--- <a href="https://www.zhihu.com/question/318526180/answer/729421901" target="_blank" rel="noopener noreferrer">Citeret fra People&#39;s Daily 2050</a></p><h2 id="forord" tabindex="-1"><a class="header-anchor" href="#forord" aria-hidden="true">#</a> Forord</h2><p><a href="https://vlang.io" target="_blank" rel="noopener noreferrer"><code>V\u8BED\u8A00</code></a> , Vlang, programmeringssproget for hackere.</p><p>rust og zig er gode, men de er for strenge og akademiske.</p><p>V er mere som et sprog til hurtigstart som javascript, mindre struktureret, hurtigt at komme i gang med og selvf\xF8lgelig hurtigt.</p><p>Meget af det, der st\xE5r p\xE5 V-hjemmesiden, er endnu ikke sl\xE5et igennem (f.eks. automatisk fra C til V) og <a href="https://www.zhihu.com/question/318526180" target="_blank" rel="noopener noreferrer">er af mange blevet kaldt falsk propaganda</a>, f.eks:</p><p>Det er den rigtige strategi f\xF8rst at g\xE5 efter propaganda og derefter at g\xF8re det til virkelighed; mennesker er et f\xE6llesskab af fantasifulde mennesker.</p><blockquote><p>De fleste mennesker tror, fordi de ser, og nogle mennesker ser, fordi de tror.</p></blockquote><p>Ligesom troen p\xE5 kommunismen m\xE5ske er i mindretal, men der vil altid v\xE6re et meget lille antal mennesker, der virkelig tror p\xE5 den, og en stjernes ild kan starte en pr\xE6riebrand. Uden det kommunistiske parti ville der ikke v\xE6re noget nyt Kina.</p><p>Computermatematikere vil m\xE5ske finde V lidt useri\xF8st, men jeg tror, at hackere vil elske sproget.</p><p>At t\xE6nke er at handle, at turde t\xE6nke, at turde pr\xF8ve, og m\xE5ske er det forskellen mellem kunst og matematik. Er et programmeringssprog kunst eller matematik? Det er det evige sp\xF8rgsm\xE5l.</p><p>Jeg tror, at det bedste ved V er, at gr\xE6nserne mellem sprogdesign og programudvikling udviskes.</p><p>Den kompilerer sig selv, og p\xE5 tre eller fem sekunder kan den kompileres igen, og koden er klar.</p><p>Forfatteren af V skriver i <a href="https://github.com/vlang/v/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">V-kodens mappestruktur</a>:</p><blockquote><p>Jeg har fors\xF8gt at g\xF8re compileren og vlib-koden s\xE5 enkel og letl\xE6selig som muligt.</p><p>Et af m\xE5lene med V er at v\xE6re \xE5ben for udviklere med forskellige niveauer af erfaring med compilerudvikling. Compileren beh\xF8ver ikke at v\xE6re en sort boks fuld af magi, som kun nogle f\xE5 mennesker kan forst\xE5.</p><p>V-kompileren er modul\xE6r og kan bruges af andre programmer. Det ligger p\xE5 <code>cmd/v/</code> og <code>vlib/v/</code>.</p><p>Den vigtigste og mest nyttige kommando, n\xE5r du arbejder med V-kompileren, er <code>v self</code>. Den genopbygger V-kompileren.</p><p>Compilerensatoren er meget enkel i sin opbygning og best\xE5r af tre forskellige trin.</p><p>Parsing/generering af AST ( <code>v.parser</code>) =&gt; kontrol af typen ( <code>v.checker</code>) =&gt; generering af C/JavaScript/maskinkode ( <code>v.gen</code>)</p></blockquote><p>Man kunne tro :</p><blockquote><p><a href="https://www.zhihu.com/question/318526180/answer/685952638" target="_blank" rel="noopener noreferrer">Uden at medregne lexer og parser er kernekoden kun et par tusinde linjer. Jeg kan kun sige, at forfatteren har gjort et godt stykke arbejde med markedsf\xF8ringen, og den officielle hjemmeside ser stort set ud som den.</a></p></blockquote><p>Men jeg synes, at denne enkelhed er det bedste ved V.</p><p>Du skal ikke t\xE6nke p\xE5 V som et traditionelt klodset programmeringssprog med en compiler, der er en obskur, obskur bog i himlen.</p><p>T\xE6nk p\xE5 det som en webfront-end ramme, ligesom Vue, hvor adgangsbarrieren er lav, og hvor alle kan v\xE6re med.</p><p>Hvis du har et problem, skal du bare \xE6ndre det.</p><blockquote><p>G\xF8r det selv, s\xE5 har du masser at spise.</p></blockquote><p>En smuk ny verden er ikke noget, man bare sidder og venter p\xE5, det er noget, som arbejdende mennesker skaber med deres h\xE6nder.</p><p><img src="//irmw.gumlet.io/cEFoDn.jpg" alt=""></p><h2 id="v-self-kompiler-det-selv" tabindex="-1"><a class="header-anchor" href="#v-self-kompiler-det-selv" aria-hidden="true">#</a> <code>v self</code> Kompil\xE9r det selv</h2><p>V kan nemt kompilere sig selv ved hj\xE6lp af <code>v self</code>. P\xE5 min 2015-version af Apples b\xE6rbare computer tager det 5,63 sekunder at kompilere \xE9n gang.</p><p>Jeg anbefaler at installere det som kildekode.</p><div class="language-text ext-text"><pre class="language-text"><code>git clone git@github.com:vlang/v.git
make
sudo ./v symlink
</code></pre></div><p>Hvis du har nogle ideer, kan du \xE6ndre kildekoden til compileren eller standardbiblioteket direkte.</p><p>Brug derefter <code>v self</code>og kompil\xE9r det selv. N\xE5r du har udarbejdet dine krav, skal du overf\xF8re dem til den officielle kildekode og flette dem sammen med den officielle kildekode.</p><p>I dag har jeg lige l\xE6rt V, og jeg har lanceret 3 merge requests <a href="https://github.com/vlang/v/pull/13518" target="_blank" rel="noopener noreferrer">(1</a>, <a href="https://github.com/vlang/v/pull/13524" target="_blank" rel="noopener noreferrer">2</a>, <a href="https://github.com/vlang/v/pull/13514" target="_blank" rel="noopener noreferrer">3</a> ) med et forslag til forbedring af sproget: <a href="https://github.com/vlang/v/issues/13526" target="_blank" rel="noopener noreferrer">valgfri eksplicit deklaration af underst\xF8ttelse af en gr\xE6nseflade.</a></p><p>Jeg taler ikke s\xE5 godt engelsk, men med overs\xE6tteren <a href="https://www.deepl.com/zh/translator" target="_blank" rel="noopener noreferrer">p\xE5 DeepL</a> er det nemt at konvertere fra kinesisk til engelsk for at kunne kommunikere grundigt med internationale venner.</p><h2 id="v-skriftlige-manuskripter" tabindex="-1"><a class="header-anchor" href="#v-skriftlige-manuskripter" aria-hidden="true">#</a> V Skriftlige manuskripter</h2><p><code>v init</code> Efter initialisering af projektet har jeg brug for et kompileringsscript.</p><p>V kan bruges til at skrive dette script i stedet for bash.</p><p>Mit kompileringsskript er som f\xF8lger.</p><div class="language-vlang ext-vlang"><pre class="language-vlang"><code>#!/usr/bin/env -S v run

import v.vmod

fn sh(cmd string){
  println(&quot;\u276F $cmd&quot;)
  print(execute_or_exit(cmd).output)
}

vm := vmod.decode( @VMOD_FILE ) or { panic(err) }

name := vm.name

sh(&#39;v -autofree -prod \${name}.v&#39;)

suffix := $if windows { &#39;.exe&#39; } $else { &#39;&#39; }
src := name + suffix
bin := join_path_single(&#39;bin&#39;,src)
mkdir(&#39;bin&#39;) or {}
mv(src, bin)?

println(&#39;  &#39;+bin)
</code></pre></div><h2 id="overvag-fil\xE6ndringer-og-genstart-automatisk-k\xF8rslen" tabindex="-1"><a class="header-anchor" href="#overvag-fil\xE6ndringer-og-genstart-automatisk-k\xF8rslen" aria-hidden="true">#</a> Overv\xE5g fil\xE6ndringer og genstart automatisk k\xF8rslen</h2><p>Jeg har for vane at skrive og k\xF8re et script \xE9n gang, og overv\xE5gning af \xE6ndringer og automatisk genstart er det, jeg har brug for.</p><p>v leveres med <code>v watch run xx.v</code> til at g\xF8re dette.</p><p>Jeg har lavet et script til at lette brugen af <code>./dev.sh</code> p\xE5 f\xF8lgende m\xE5de.</p><div class="language-bash ext-sh"><pre class="language-bash"><code>#!/usr/bin/env bash

DIR=$(dirname $(realpath &quot;$0&quot;))
cd $DIR
set -ex

NAME=$(cat v.mod|grep name|awk -F\\&#39; &#39;{print $2}&#39;)
SH=&quot;v watch run $NAME.v&quot;

exec $SH \\
  -i &#39;.git&#39; \\
  -i &#39;bin&#39; \\
  -c -s --before &quot;printf \\&quot;\\e[90m\u276F \${SH}\\e[0m\\n\\&quot;&quot;
</code></pre></div><p>For projektskabelonen se <a href="https://github.com/rmw-link/rmw-v-template" target="_blank" rel="noopener noreferrer">rmw-link/rmw-v-template</a></p>`,46);function x(V,j){const n=g("RouterLink");return i(),s(l,null,[m,k,f,e("nav",u,[e("ul",null,[e("li",null,[t(n,{to:"#indledning-vlang-fremtidens-sprog"},{default:a(()=>[v]),_:1})]),e("li",null,[t(n,{to:"#forord"},{default:a(()=>[c]),_:1})]),e("li",null,[t(n,{to:"#v-self-kompiler-det-selv"},{default:a(()=>[h]),_:1})]),e("li",null,[t(n,{to:"#v-skriftlige-manuskripter"},{default:a(()=>[b]),_:1})]),e("li",null,[t(n,{to:"#overvag-fil\xE6ndringer-og-genstart-automatisk-k\xF8rslen"},{default:a(()=>[_]),_:1})])])]),w],64)}var $=o(p,[["render",x],["__file","2022-02-09.vlang.html.vue"]]);export{$ as default};
