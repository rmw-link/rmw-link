import{_ as t,r as p,o as l,c as o,a as s,b as e,F as c,d as a,e as i}from"./app.6835b22f.js";const r={},k=s("h1",{id:"\u043A\u043E\u043C\u043F\u0438\u043B\u044F\u0446\u0438\u044F-kiss-ftpd-\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430-\u043D\u0430-\u044F\u0437\u044B\u043A\u0435-rust-\u0434\u043B\u044F-\u043F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0438-android",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u043A\u043E\u043C\u043F\u0438\u043B\u044F\u0446\u0438\u044F-kiss-ftpd-\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430-\u043D\u0430-\u044F\u0437\u044B\u043A\u0435-rust-\u0434\u043B\u044F-\u043F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0438-android","aria-hidden":"true"},"#"),a(" \u041A\u043E\u043C\u043F\u0438\u043B\u044F\u0446\u0438\u044F kiss-ftpd (\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430 \u043D\u0430 \u044F\u0437\u044B\u043A\u0435 rust) \u0434\u043B\u044F \u043F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0438 android")],-1),b=a("busybox \u043F\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0441 \u0431\u0435\u0441\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u043D\u044B\u043C ftp-\u043A\u043E\u0434\u043E\u043C, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u044F \u0441\u043E\u0431\u0438\u0440\u0430\u044E\u0441\u044C \u0441\u043A\u043E\u043C\u043F\u0438\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),u={href:"https://github.com/moparisthebest/kiss-ftpd",target:"_blank",rel:"noopener noreferrer"},d=a("kiss-ftpd"),v=a(" \u0434\u043B\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u043D\u0430 \u043F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0435."),_=s("p",null,[a("\u0412\u043E-\u043F\u0435\u0440\u0432\u044B\u0445, "),s("code",null,"rustup target add aarch64-linux-android")],-1),m=s("p",null,"\u0417\u0430\u0442\u0435\u043C \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 NDK \u0434\u043B\u044F Android, \u044F \u0441\u0434\u0435\u043B\u0430\u043B \u044D\u0442\u043E \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E Android Studio, \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u043D\u0438\u0436\u0435.",-1),h=s("p",null,[s("img",{src:"//irmw.gumlet.io/qcUqsK.png",alt:""})],-1),g=a("\u041A\u043E\u043D\u0435\u0447\u043D\u043E, \u0432\u044B \u0442\u0430\u043A\u0436\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 "),A={href:"https://developer.android.com/ndk/downloads",target:"_blank",rel:"noopener noreferrer"},f=a("\u0441\u043A\u0430\u0447\u0430\u0442\u044C NDK \u043D\u0430\u043F\u0440\u044F\u043C\u0443\u044E \u0438 \u0440\u0430\u0441\u043F\u0430\u043A\u043E\u0432\u0430\u0442\u044C"),T=a(" \u0435\u0433\u043E."),$=a("\u0412 2021 \u0433\u043E\u0434\u0443 "),R={href:"https://github.com/mozilla/rust-android-gradle/issues/75#issuecomment-970179046",target:"_blank",rel:"noopener noreferrer"},x=a("\u0441\u0430\u043C\u043E\u0439 \u0432\u044B\u0441\u043E\u043A\u043E\u0439 \u0432\u0435\u0440\u0441\u0438\u0435\u0439 NDK, \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043C\u043E\u0439 rust, \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F 22.1.7171670"),N=a(", \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0435\u0435 \u0432 \u043F\u0435\u0440\u0432\u0443\u044E \u043E\u0447\u0435\u0440\u0435\u0434\u044C."),C=i(`<p>\u041D\u0430\u043A\u043E\u043D\u0435\u0446, \u0441\u0446\u0435\u043D\u0430\u0440\u0438\u0439 \u043A\u043E\u043C\u043F\u0438\u043B\u044F\u0446\u0438\u0438 \u0432\u044B\u0433\u043B\u044F\u0434\u0438\u0442 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u043C \u043E\u0431\u0440\u0430\u0437\u043E\u043C.</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token shebang important">#!/usr/bin/env bash</span>

<span class="token assign-left variable">DIR</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">cd</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span><span class="token variable">)</span></span>&quot;</span><span class="token punctuation">;</span> <span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
<span class="token builtin class-name">set</span> -ex
<span class="token builtin class-name">cd</span> <span class="token variable">$DIR</span>

<span class="token builtin class-name">export</span> <span class="token assign-left variable">API</span><span class="token operator">=</span><span class="token number">30</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NDK_VERSION</span><span class="token operator">=</span><span class="token number">22.1</span>.7171670

<span class="token builtin class-name">export</span> <span class="token assign-left variable">TARGET</span><span class="token operator">=</span>aarch64-linux-android

<span class="token builtin class-name">export</span> <span class="token assign-left variable">os</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -s<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{ print tolower($0) }&#39;</span><span class="token variable">\`</span></span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NDK</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/Library/Android/sdk/ndk/<span class="token variable">$NDK_VERSION</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ANDROID_NDK_HOME</span><span class="token operator">=</span><span class="token variable">$NDK</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">TOOLCHAIN</span><span class="token operator">=</span><span class="token variable">$NDK</span>/toolchains/llvm/prebuilt/<span class="token variable">$os</span>-x86_64
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">AR</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/llvm-ar
<span class="token builtin class-name">export</span> <span class="token assign-left variable">AS</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/<span class="token variable">$TARGET</span>-as
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CC</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/<span class="token variable">$TARGET</span><span class="token variable">$API</span>-clang
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CXX</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/<span class="token variable">$TARGET</span><span class="token variable">$API</span>-clang++
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LD</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/<span class="token variable">$TARGET</span>-ld
<span class="token builtin class-name">export</span> <span class="token assign-left variable">RANLIB</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/<span class="token variable">$TARGET</span>-ranlib
<span class="token builtin class-name">export</span> <span class="token assign-left variable">STRIP</span><span class="token operator">=</span><span class="token variable">$TOOLCHAIN</span>/bin/<span class="token variable">$TARGET</span>-strip

<span class="token assign-left variable">CARGO_TARGET</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $<span class="token punctuation">{</span>TARGET//-/_<span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{ print toupper($0) }&#39;</span><span class="token variable">\`</span></span>
<span class="token builtin class-name">export</span> CARGO_TARGET_<span class="token variable">\${CARGO_TARGET}</span>_LINKER<span class="token operator">=</span><span class="token variable">$CC</span>

<span class="token builtin class-name">echo</span> <span class="token string">&#39;AR = &#39;</span><span class="token variable">$AR</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;AS = &#39;</span><span class="token variable">$AS</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;CC = &#39;</span><span class="token variable">$CC</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;CXX = &#39;</span><span class="token variable">$CXX</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;LD = &#39;</span><span class="token variable">$LD</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;RANLIB = &#39;</span><span class="token variable">$RANLIB</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;STRIP = &#39;</span><span class="token variable">$STRIP</span>

<span class="token assign-left variable">RUST_BACKTRACE</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\\</span>
cargo +nightly build --release --target aarch64-linux-android
</code></pre></div>`,2);function I(O,E){const n=p("ExternalLinkIcon");return l(),o(c,null,[k,s("p",null,[b,s("a",u,[d,e(n)]),v]),_,m,h,s("p",null,[g,s("a",A,[f,e(n)]),T]),s("p",null,[$,s("a",R,[x,e(n)]),N]),C],64)}var D=t(r,[["render",I],["__file","2021-11-11-rust-android.html.vue"]]);export{D as default};
